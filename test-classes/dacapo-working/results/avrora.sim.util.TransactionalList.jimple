public class avrora.sim.util.TransactionalList extends java.lang.Object
{
    protected avrora.sim.util.TransactionalList$Link head;
    protected avrora.sim.util.TransactionalList$Link tail;
    protected avrora.sim.util.TransactionalList$Link transHead;
    protected avrora.sim.util.TransactionalList$Link transTail;
    protected int nesting;

    public void <init>()
    {
        avrora.sim.util.TransactionalList l0;

        l0 := @this: avrora.sim.util.TransactionalList;

        specialinvoke l0.<java.lang.Object: void <init>()>();

        return;
    }

    public void add(java.lang.Object)
    {
        avrora.sim.util.TransactionalList l0;
        int $stack3;
        avrora.sim.util.TransactionalList$Link $stack4, $stack5, $stack6, $stack7, $stack8, l2;
        java.lang.Object l1;

        l0 := @this: avrora.sim.util.TransactionalList;

        l1 := @parameter0: java.lang.Object;

        $stack3 = l0.<avrora.sim.util.TransactionalList: int nesting>;

        if $stack3 <= 0 goto label1;

        specialinvoke l0.<avrora.sim.util.TransactionalList: void addTransaction(java.lang.Object,boolean)>(l1, 1);

        return;

     label1:
        $stack4 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link head>;

        if $stack4 != null goto label2;

        l2 = new avrora.sim.util.TransactionalList$Link;

        specialinvoke l2.<avrora.sim.util.TransactionalList$Link: void <init>(java.lang.Object)>(l1);

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link tail> = l2;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link head> = l2;

        goto label3;

     label2:
        $stack6 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link tail>;

        $stack5 = new avrora.sim.util.TransactionalList$Link;

        specialinvoke $stack5.<avrora.sim.util.TransactionalList$Link: void <init>(java.lang.Object)>(l1);

        $stack6.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next> = $stack5;

        $stack7 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link tail>;

        $stack8 = $stack7.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next>;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link tail> = $stack8;

     label3:
        return;
    }

    private void addTransaction(java.lang.Object, boolean)
    {
        avrora.sim.util.TransactionalList l0;
        avrora.sim.util.TransactionalList$Link $stack4, $stack5, $stack6, $stack7, $stack8, l3;
        java.lang.Object l1;
        boolean l2;

        l0 := @this: avrora.sim.util.TransactionalList;

        l1 := @parameter0: java.lang.Object;

        l2 := @parameter1: boolean;

        $stack4 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transHead>;

        if $stack4 != null goto label1;

        l3 = new avrora.sim.util.TransactionalList$Link;

        specialinvoke l3.<avrora.sim.util.TransactionalList$Link: void <init>(java.lang.Object,boolean)>(l1, l2);

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transTail> = l3;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transHead> = l3;

        goto label2;

     label1:
        $stack6 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transTail>;

        $stack5 = new avrora.sim.util.TransactionalList$Link;

        specialinvoke $stack5.<avrora.sim.util.TransactionalList$Link: void <init>(java.lang.Object,boolean)>(l1, l2);

        $stack6.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next> = $stack5;

        $stack7 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transTail>;

        $stack8 = $stack7.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next>;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transTail> = $stack8;

     label2:
        return;
    }

    public void beginTransaction()
    {
        avrora.sim.util.TransactionalList l0;
        int $stack1, $stack2;

        l0 := @this: avrora.sim.util.TransactionalList;

        $stack1 = l0.<avrora.sim.util.TransactionalList: int nesting>;

        $stack2 = $stack1 + 1;

        l0.<avrora.sim.util.TransactionalList: int nesting> = $stack2;

        return;
    }

    public void endTransaction()
    {
        avrora.sim.util.TransactionalList l0;
        int $stack2, $stack3, $stack4;
        avrora.sim.util.TransactionalList$Link $stack5, $stack11, l1#1;
        boolean $stack6;
        java.lang.Object $stack7, $stack9;

        l0 := @this: avrora.sim.util.TransactionalList;

        $stack2 = l0.<avrora.sim.util.TransactionalList: int nesting>;

        $stack3 = $stack2 - 1;

        l0.<avrora.sim.util.TransactionalList: int nesting> = $stack3;

        $stack4 = l0.<avrora.sim.util.TransactionalList: int nesting>;

        if $stack4 != 0 goto label4;

        $stack5 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transHead>;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transHead> = null;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link transTail> = null;

        l1#1 = $stack5;

     label1:
        if l1#1 == null goto label4;

        $stack6 = l1#1.<avrora.sim.util.TransactionalList$Link: boolean addTransaction>;

        if $stack6 == 0 goto label2;

        $stack9 = l1#1.<avrora.sim.util.TransactionalList$Link: java.lang.Object object>;

        virtualinvoke l0.<avrora.sim.util.TransactionalList: void add(java.lang.Object)>($stack9);

        goto label3;

     label2:
        $stack7 = l1#1.<avrora.sim.util.TransactionalList$Link: java.lang.Object object>;

        virtualinvoke l0.<avrora.sim.util.TransactionalList: void remove(java.lang.Object)>($stack7);

     label3:
        $stack11 = l1#1.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next>;

        l1#1 = $stack11;

        goto label1;

     label4:
        return;
    }

    public avrora.sim.util.TransactionalList$Link getHead()
    {
        avrora.sim.util.TransactionalList l0;
        avrora.sim.util.TransactionalList$Link $stack1;

        l0 := @this: avrora.sim.util.TransactionalList;

        $stack1 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link head>;

        return $stack1;
    }

    public boolean isEmpty()
    {
        avrora.sim.util.TransactionalList$Link $stack1;
        avrora.sim.util.TransactionalList l0#1;
        boolean l0#2;

        l0#1 := @this: avrora.sim.util.TransactionalList;

        $stack1 = l0#1.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link head>;

        if $stack1 != null goto label1;

        l0#2 = 1;

        goto label2;

     label1:
        l0#2 = 0;

     label2:
        return l0#2;
    }

    public void remove(java.lang.Object)
    {
        avrora.sim.util.TransactionalList l0;
        int $stack5;
        avrora.sim.util.TransactionalList$Link l2, $stack8, $stack9, $stack11, l3#1, l4#2;
        java.lang.Object l1, $stack6;

        l0 := @this: avrora.sim.util.TransactionalList;

        l1 := @parameter0: java.lang.Object;

        $stack5 = l0.<avrora.sim.util.TransactionalList: int nesting>;

        if $stack5 <= 0 goto label1;

        specialinvoke l0.<avrora.sim.util.TransactionalList: void addTransaction(java.lang.Object,boolean)>(l1, 0);

        return;

     label1:
        l3#1 = null;

        l4#2 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link head>;

     label2:
        if l4#2 == null goto label7;

        l2 = l4#2.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next>;

        $stack6 = l4#2.<avrora.sim.util.TransactionalList$Link: java.lang.Object object>;

        if $stack6 != l1 goto label5;

        if l3#1 != null goto label3;

        $stack11 = l4#2.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next>;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link head> = $stack11;

        goto label4;

     label3:
        $stack8 = l4#2.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next>;

        l3#1.<avrora.sim.util.TransactionalList$Link: avrora.sim.util.TransactionalList$Link next> = $stack8;

     label4:
        $stack9 = l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link tail>;

        if l4#2 != $stack9 goto label6;

        l0.<avrora.sim.util.TransactionalList: avrora.sim.util.TransactionalList$Link tail> = l3#1;

        goto label6;

     label5:
        l3#1 = l4#2;

     label6:
        l4#2 = l2;

        goto label2;

     label7:
        return;
    }
}
