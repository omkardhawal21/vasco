public class avrora.sim.platform.sensors.LightSensor extends avrora.sim.platform.sensors.Sensor
{
    protected final avrora.sim.mcu.AtmelMicrocontroller mcu;
    protected final int channel;
    protected final avrora.sim.FiniteStateMachine fsm;
    protected static final java.lang.String[] names;
    protected boolean on;
    public avrora.sim.mcu.ADC adcDevice;

    static void <clinit>()
    {
        java.lang.String[] l0;

        l0 = newarray (java.lang.String)[2];

        l0[0] = "power down";

        l0[1] = "on";

        <avrora.sim.platform.sensors.LightSensor: java.lang.String[] names> = l0;

        return;
    }

    public void <init>(avrora.sim.mcu.AtmelMicrocontroller, int, java.lang.String)
    {
        avrora.sim.platform.sensors.LightSensor l0;
        avrora.sim.mcu.AtmelMicrocontroller l1, $stack4, $stack8, $stack12;
        int l2, $stack17;
        java.lang.String l3;
        avrora.sim.mcu.Microcontroller$Pin $stack5;
        avrora.sim.platform.sensors.LightSensor$OnPin $stack6;
        avrora.sim.FiniteStateMachine $stack7;
        avrora.sim.clock.ClockDomain $stack9;
        avrora.sim.clock.MainClock $stack10;
        java.lang.String[] $stack11;
        avrora.sim.mcu.AtmelInternalDevice $stack13;
        avrora.sim.mcu.ADC $stack14, $stack16;
        avrora.sim.platform.sensors.LightSensor$ADCInput $stack15;

        l0 := @this: avrora.sim.platform.sensors.LightSensor;

        l1 := @parameter0: avrora.sim.mcu.AtmelMicrocontroller;

        l2 := @parameter1: int;

        l3 := @parameter2: java.lang.String;

        specialinvoke l0.<avrora.sim.platform.sensors.Sensor: void <init>()>();

        l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.mcu.AtmelMicrocontroller mcu> = l1;

        l0.<avrora.sim.platform.sensors.LightSensor: int channel> = l2;

        $stack4 = l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.mcu.AtmelMicrocontroller mcu>;

        $stack5 = virtualinvoke $stack4.<avrora.sim.mcu.AtmelMicrocontroller: avrora.sim.mcu.Microcontroller$Pin getPin(java.lang.String)>(l3);

        $stack6 = new avrora.sim.platform.sensors.LightSensor$OnPin;

        specialinvoke $stack6.<avrora.sim.platform.sensors.LightSensor$OnPin: void <init>(avrora.sim.platform.sensors.LightSensor)>(l0);

        interfaceinvoke $stack5.<avrora.sim.mcu.Microcontroller$Pin: void connectOutput(avrora.sim.mcu.Microcontroller$Pin$Output)>($stack6);

        $stack7 = new avrora.sim.FiniteStateMachine;

        $stack8 = l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.mcu.AtmelMicrocontroller mcu>;

        $stack9 = virtualinvoke $stack8.<avrora.sim.mcu.AtmelMicrocontroller: avrora.sim.clock.ClockDomain getClockDomain()>();

        $stack10 = virtualinvoke $stack9.<avrora.sim.clock.ClockDomain: avrora.sim.clock.MainClock getMainClock()>();

        $stack11 = <avrora.sim.platform.sensors.LightSensor: java.lang.String[] names>;

        specialinvoke $stack7.<avrora.sim.FiniteStateMachine: void <init>(avrora.sim.clock.Clock,int,java.lang.String[],int)>($stack10, 0, $stack11, 0);

        l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.FiniteStateMachine fsm> = $stack7;

        $stack12 = l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.mcu.AtmelMicrocontroller mcu>;

        $stack13 = virtualinvoke $stack12.<avrora.sim.mcu.AtmelMicrocontroller: avrora.sim.mcu.AtmelInternalDevice getDevice(java.lang.String)>("adc");

        $stack14 = (avrora.sim.mcu.ADC) $stack13;

        l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.mcu.ADC adcDevice> = $stack14;

        $stack16 = l0.<avrora.sim.platform.sensors.LightSensor: avrora.sim.mcu.ADC adcDevice>;

        $stack15 = new avrora.sim.platform.sensors.LightSensor$ADCInput;

        specialinvoke $stack15.<avrora.sim.platform.sensors.LightSensor$ADCInput: void <init>(avrora.sim.platform.sensors.LightSensor)>(l0);

        $stack17 = l0.<avrora.sim.platform.sensors.LightSensor: int channel>;

        virtualinvoke $stack16.<avrora.sim.mcu.ADC: void connectADCInput(avrora.sim.mcu.ADC$ADCInput,int)>($stack15, $stack17);

        return;
    }

    static int access$000(avrora.sim.platform.sensors.LightSensor)
    {
        avrora.sim.platform.sensors.LightSensor l0;
        int $stack1;

        l0 := @parameter0: avrora.sim.platform.sensors.LightSensor;

        $stack1 = specialinvoke l0.<avrora.sim.platform.sensors.LightSensor: int state()>();

        return $stack1;
    }

    private int state()
    {
        avrora.sim.platform.sensors.LightSensor l0;
        boolean $stack1;

        l0 := @this: avrora.sim.platform.sensors.LightSensor;

        $stack1 = l0.<avrora.sim.platform.sensors.LightSensor: boolean on>;

        if $stack1 != 0 goto label1;

        return 0;

     label1:
        return 1;
    }
}
