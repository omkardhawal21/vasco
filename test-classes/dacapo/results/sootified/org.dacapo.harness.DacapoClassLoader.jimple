public class org.dacapo.harness.DacapoClassLoader extends java.net.URLClassLoader
{

    public void <init>(java.net.URL[])
    {
        org.dacapo.harness.DacapoClassLoader l0;
        java.net.URL[] l1;

        l0 := @this: org.dacapo.harness.DacapoClassLoader;

        l1 := @parameter0: java.net.URL[];

        specialinvoke l0.<java.net.URLClassLoader: void <init>(java.net.URL[])>(l1);

        return;
    }

    public void <init>(java.net.URL[], java.lang.ClassLoader)
    {
        org.dacapo.harness.DacapoClassLoader l0;
        java.net.URL[] l1;
        java.lang.ClassLoader l2;

        l0 := @this: org.dacapo.harness.DacapoClassLoader;

        l1 := @parameter0: java.net.URL[];

        l2 := @parameter1: java.lang.ClassLoader;

        specialinvoke l0.<java.net.URLClassLoader: void <init>(java.net.URL[],java.lang.ClassLoader)>(l1, l2);

        return;
    }

    public void <init>(java.net.URL[], java.lang.ClassLoader, java.net.URLStreamHandlerFactory)
    {
        org.dacapo.harness.DacapoClassLoader l0;
        java.net.URL[] l1;
        java.lang.ClassLoader l2;
        java.net.URLStreamHandlerFactory l3;

        l0 := @this: org.dacapo.harness.DacapoClassLoader;

        l1 := @parameter0: java.net.URL[];

        l2 := @parameter1: java.lang.ClassLoader;

        l3 := @parameter2: java.net.URLStreamHandlerFactory;

        specialinvoke l0.<java.net.URLClassLoader: void <init>(java.net.URL[],java.lang.ClassLoader,java.net.URLStreamHandlerFactory)>(l1, l2, l3);

        return;
    }

    public static org.dacapo.harness.DacapoClassLoader create(org.dacapo.parser.Config, java.io.File)
    {
        org.dacapo.parser.Config l0;
        java.io.File l1;
        java.net.URL[] $stack9;
        boolean $stack10;
        org.dacapo.harness.DacapoClassLoader $stack11, l7#1;
        java.lang.ClassLoader $stack12;
        java.io.PrintStream $stack13, l4, $stack25;
        int l3, l8#2;
        java.lang.StringBuilder $stack15, $stack17, $stack19, $stack24, $stack26, $stack28, $stack29;
        java.net.URL $stack16;
        java.lang.String $stack18, $stack20, $stack27, $stack30;
        java.lang.Exception $stack23;

        l0 := @parameter0: org.dacapo.parser.Config;

        l1 := @parameter1: java.io.File;

        l7#1 = null;

     label1:
        $stack9 = staticinvoke <org.dacapo.harness.DacapoClassLoader: java.net.URL[] getJars(org.dacapo.parser.Config,java.io.File)>(l0, l1);

        $stack10 = staticinvoke <org.dacapo.harness.Benchmark: boolean getVerbose()>();

        if $stack10 == 0 goto label3;

        $stack13 = <java.lang.System: java.io.PrintStream out>;

        virtualinvoke $stack13.<java.io.PrintStream: void println(java.lang.String)>("Benchmark classpath:");

        l3 = lengthof $stack9;

        l8#2 = 0;

     label2:
        if l8#2 >= l3 goto label3;

        $stack16 = $stack9[l8#2];

        l4 = <java.lang.System: java.io.PrintStream out>;

        $stack15 = new java.lang.StringBuilder;

        specialinvoke $stack15.<java.lang.StringBuilder: void <init>()>();

        $stack17 = virtualinvoke $stack15.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("  ");

        $stack18 = virtualinvoke $stack16.<java.net.URL: java.lang.String toString()>();

        $stack19 = virtualinvoke $stack17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($stack18);

        $stack20 = virtualinvoke $stack19.<java.lang.StringBuilder: java.lang.String toString()>();

        virtualinvoke l4.<java.io.PrintStream: void println(java.lang.String)>($stack20);

        l8#2 = l8#2 + 1;

        goto label2;

     label3:
        $stack11 = new org.dacapo.harness.DacapoClassLoader;

        $stack12 = staticinvoke <java.lang.ClassLoader: java.lang.ClassLoader getSystemClassLoader()>();

        specialinvoke $stack11.<org.dacapo.harness.DacapoClassLoader: void <init>(java.net.URL[],java.lang.ClassLoader)>($stack9, $stack12);

        l7#1 = $stack11;

     label4:
        goto label6;

     label5:
        $stack23 := @caughtexception;

        $stack25 = <java.lang.System: java.io.PrintStream err>;

        $stack24 = new java.lang.StringBuilder;

        specialinvoke $stack24.<java.lang.StringBuilder: void <init>()>();

        $stack26 = virtualinvoke $stack24.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Unable to create loader for ");

        $stack27 = l0.<org.dacapo.parser.Config: java.lang.String name>;

        $stack28 = virtualinvoke $stack26.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($stack27);

        $stack29 = virtualinvoke $stack28.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(":");

        $stack30 = virtualinvoke $stack29.<java.lang.StringBuilder: java.lang.String toString()>();

        virtualinvoke $stack25.<java.io.PrintStream: void println(java.lang.String)>($stack30);

        virtualinvoke $stack23.<java.lang.Exception: void printStackTrace()>();

        staticinvoke <java.lang.System: void exit(int)>(-1);

     label6:
        return l7#1;

        catch java.lang.Exception from label1 to label4 with label5;
    }

    private static java.net.URL[] getJars(org.dacapo.parser.Config, java.io.File) throws java.net.MalformedURLException
    {
        java.util.ArrayList l2;
        java.io.File l3, l1, $stack14;
        org.dacapo.parser.Config l0;
        java.lang.String[] $stack5, $stack10, $stack15;
        int $stack6, $stack11, l4#1;
        java.net.URL[] $stack7, $stack9;
        java.lang.Object[] $stack8;
        java.lang.String $stack16;
        java.net.URL $stack17;

        l0 := @parameter0: org.dacapo.parser.Config;

        l1 := @parameter1: java.io.File;

        l2 = new java.util.ArrayList;

        specialinvoke l2.<java.util.ArrayList: void <init>()>();

        l3 = new java.io.File;

        specialinvoke l3.<java.io.File: void <init>(java.io.File,java.lang.String)>(l1, "jar");

        $stack5 = l0.<org.dacapo.parser.Config: java.lang.String[] jars>;

        if $stack5 == null goto label2;

        l4#1 = 0;

     label1:
        $stack10 = l0.<org.dacapo.parser.Config: java.lang.String[] jars>;

        $stack11 = lengthof $stack10;

        if l4#1 >= $stack11 goto label2;

        $stack14 = new java.io.File;

        $stack15 = l0.<org.dacapo.parser.Config: java.lang.String[] jars>;

        $stack16 = $stack15[l4#1];

        specialinvoke $stack14.<java.io.File: void <init>(java.io.File,java.lang.String)>(l3, $stack16);

        $stack17 = virtualinvoke $stack14.<java.io.File: java.net.URL toURL()>();

        interfaceinvoke l2.<java.util.List: boolean add(java.lang.Object)>($stack17);

        l4#1 = l4#1 + 1;

        goto label1;

     label2:
        $stack6 = interfaceinvoke l2.<java.util.List: int size()>();

        $stack7 = newarray (java.net.URL)[$stack6];

        $stack8 = interfaceinvoke l2.<java.util.List: java.lang.Object[] toArray(java.lang.Object[])>($stack7);

        $stack9 = (java.net.URL[]) $stack8;

        return $stack9;
    }

    protected synchronized java.lang.Class loadClass(java.lang.String, boolean) throws java.lang.ClassNotFoundException
    {
        org.dacapo.harness.DacapoClassLoader l0;
        java.lang.String l1;
        java.lang.Class $stack5, $stack7, $stack10, l4#1;
        boolean l2;
        java.lang.ClassNotFoundException $stack9;

        l0 := @this: org.dacapo.harness.DacapoClassLoader;

        l1 := @parameter0: java.lang.String;

        l2 := @parameter1: boolean;

        $stack5 = virtualinvoke l0.<org.dacapo.harness.DacapoClassLoader: java.lang.Class findLoadedClass(java.lang.String)>(l1);

        l4#1 = $stack5;

        if $stack5 != null goto label4;

     label1:
        $stack7 = specialinvoke l0.<java.net.URLClassLoader: java.lang.Class findClass(java.lang.String)>(l1);

        l4#1 = $stack7;

     label2:
        goto label4;

     label3:
        $stack9 := @caughtexception;

        $stack10 = specialinvoke l0.<java.net.URLClassLoader: java.lang.Class loadClass(java.lang.String,boolean)>(l1, l2);

        l4#1 = $stack10;

     label4:
        if l2 == 0 goto label5;

        virtualinvoke l0.<org.dacapo.harness.DacapoClassLoader: void resolveClass(java.lang.Class)>(l4#1);

     label5:
        return l4#1;

        catch java.lang.ClassNotFoundException from label1 to label2 with label3;
    }
}
